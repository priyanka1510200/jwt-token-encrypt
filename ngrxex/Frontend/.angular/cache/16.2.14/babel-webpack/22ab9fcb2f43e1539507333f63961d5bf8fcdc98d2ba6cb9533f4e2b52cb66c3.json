{"ast":null,"code":"import { ofType, createEffect } from '@ngrx/effects';\nimport { of } from 'rxjs';\nimport { catchError, map, mergeMap } from 'rxjs/operators';\nimport * as AuthActions from './auth.actions';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@ngrx/effects\";\nimport * as i2 from \"../../login.service\";\nexport class AuthEffects {\n  constructor(actions$, authService) {\n    this.actions$ = actions$;\n    this.authService = authService;\n    this.login$ = createEffect(() => this.actions$.pipe(ofType(AuthActions.login), mergeMap(action => this.authService.login(action.username, action.password).pipe(map(data => AuthActions.loginSuccess({\n      token: data.token\n    })), catchError(error => of(AuthActions.loginFailure({\n      error\n    })))))));\n  }\n  static #_ = this.ɵfac = function AuthEffects_Factory(t) {\n    return new (t || AuthEffects)(i0.ɵɵinject(i1.Actions), i0.ɵɵinject(i2.LoginService));\n  };\n  static #_2 = this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: AuthEffects,\n    factory: AuthEffects.ɵfac\n  });\n}","map":{"version":3,"names":["ofType","createEffect","of","catchError","map","mergeMap","AuthActions","AuthEffects","constructor","actions$","authService","login$","pipe","login","action","username","password","data","loginSuccess","token","error","loginFailure","_","i0","ɵɵinject","i1","Actions","i2","LoginService","_2","factory","ɵfac"],"sources":["/home/devmonk--/thime/ngrxex/Frontend/src/app/store/auth/auth.effects.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { Actions, ofType, createEffect } from '@ngrx/effects';\nimport { of } from 'rxjs';\nimport { catchError, map, mergeMap } from 'rxjs/operators';\nimport { LoginService } from '../../login.service';\nimport * as AuthActions from './auth.actions';\n\n\n\n@Injectable()\nexport class AuthEffects {\n  login$ = createEffect(() =>\n    this.actions$.pipe(\n      ofType(AuthActions.login),\n      mergeMap((action) =>\n        this.authService.login(action.username, action.password).pipe(\n          map((data) => AuthActions.loginSuccess({ token: data.token })),\n          catchError((error) => of(AuthActions.loginFailure({ error })))\n        )\n      )\n    )\n  );\n\n  constructor(private actions$: Actions, private authService: LoginService) {}\n}\n"],"mappings":"AACA,SAAkBA,MAAM,EAAEC,YAAY,QAAQ,eAAe;AAC7D,SAASC,EAAE,QAAQ,MAAM;AACzB,SAASC,UAAU,EAAEC,GAAG,EAAEC,QAAQ,QAAQ,gBAAgB;AAE1D,OAAO,KAAKC,WAAW,MAAM,gBAAgB;;;;AAK7C,OAAM,MAAOC,WAAW;EAatBC,YAAoBC,QAAiB,EAAUC,WAAyB;IAApD,KAAAD,QAAQ,GAARA,QAAQ;IAAmB,KAAAC,WAAW,GAAXA,WAAW;IAZ1D,KAAAC,MAAM,GAAGV,YAAY,CAAC,MACpB,IAAI,CAACQ,QAAQ,CAACG,IAAI,CAChBZ,MAAM,CAACM,WAAW,CAACO,KAAK,CAAC,EACzBR,QAAQ,CAAES,MAAM,IACd,IAAI,CAACJ,WAAW,CAACG,KAAK,CAACC,MAAM,CAACC,QAAQ,EAAED,MAAM,CAACE,QAAQ,CAAC,CAACJ,IAAI,CAC3DR,GAAG,CAAEa,IAAI,IAAKX,WAAW,CAACY,YAAY,CAAC;MAAEC,KAAK,EAAEF,IAAI,CAACE;IAAK,CAAE,CAAC,CAAC,EAC9DhB,UAAU,CAAEiB,KAAK,IAAKlB,EAAE,CAACI,WAAW,CAACe,YAAY,CAAC;MAAED;IAAK,CAAE,CAAC,CAAC,CAAC,CAC/D,CACF,CACF,CACF;EAE0E;EAAC,QAAAE,CAAA,G;qBAbjEf,WAAW,EAAAgB,EAAA,CAAAC,QAAA,CAAAC,EAAA,CAAAC,OAAA,GAAAH,EAAA,CAAAC,QAAA,CAAAG,EAAA,CAAAC,YAAA;EAAA;EAAA,QAAAC,EAAA,G;WAAXtB,WAAW;IAAAuB,OAAA,EAAXvB,WAAW,CAAAwB;EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}